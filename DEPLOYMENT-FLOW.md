# ğŸš€ Mini ë‹¹ê·¼ë§ˆì¼“ ë„¤ì´ë²„ í´ë¼ìš°ë“œ NKS ì „ì²´ ë°°í¬ íë¦„

## ğŸ“‹ **ì „ì²´ êµ¬ì¡° (3ë‹¨ê³„)**

```
1. user-service â†’ 2. product-service â†’ 3. frontend
     â†“                â†“                â†“
  MySQL ì—°ê²°      MySQL ì—°ê²°      API ì—°ë™
  JWT ì¸ì¦        JWT ê²€ì¦        UI ì œê³µ
```

---

## ğŸ—ï¸ **ë„¤ì´ë²„ í´ë¼ìš°ë“œ NKS ë°°í¬ êµ¬ì¡°**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ë„¤ì´ë²„ í´ë¼ìš°ë“œ NKS í´ëŸ¬ìŠ¤í„°                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Frontend   â”‚  â”‚user-service â”‚  â”‚product-svc  â”‚      â”‚
â”‚  â”‚   (Nginx)   â”‚  â”‚(Spring Boot)â”‚  â”‚(Spring Boot)â”‚      â”‚
â”‚  â”‚   Port 80   â”‚  â”‚   Port 8080 â”‚  â”‚   Port 8082 â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚               â”‚               â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                         â”‚                               â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                  â”‚    MySQL    â”‚                        â”‚
â”‚                  â”‚   Port 3306 â”‚                        â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ê³µì¸ IP: 223.130.154.117 (LoadBalancer)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ **1ë‹¨ê³„: user-service ë°°í¬**

### **ë””ë ‰í† ë¦¬ êµ¬ì¡°**
```
mini-carrot-user-service/
â”œâ”€â”€ src/main/java/...
â”œâ”€â”€ build.gradle
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ k8s/
â”‚   â””â”€â”€ user-service-nks-deployment.yaml
â””â”€â”€ deploy-nks.sh
```

### **ë°°í¬ ëª…ë ¹ì–´**
```bash
cd mini-carrot-user-service

# ê°„ë‹¨ ë°°í¬
./deploy-nks.sh

# ë˜ëŠ” ìˆ˜ë™ ë°°í¬
./gradlew build
docker build -t user-service:latest .
kubectl apply -f k8s/user-service-nks-deployment.yaml -n tuk-trainee12
```

### **ì„œë¹„ìŠ¤ ì—­í• **
- **API**: `/api/users/register`, `/api/users/login`, `/api/users/profile`
- **JWT ì¸ì¦**: ë¡œê·¸ì¸ ì‹œ í† í° ë°œê¸‰
- **MySQL**: ì‚¬ìš©ì ì •ë³´ ì €ì¥/ì¡°íšŒ

---

## ğŸ¯ **2ë‹¨ê³„: product-service ë°°í¬ âœ… ì™„ë£Œ**

### **ë””ë ‰í† ë¦¬ êµ¬ì¡°**
```
mini-carrot-product-service/
â”œâ”€â”€ src/main/java/...
â”œâ”€â”€ build.gradle
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ k8s/
â”‚   â””â”€â”€ product-service-nks-deployment.yaml
â””â”€â”€ deploy-nks.sh                    â† ìƒì„± ì™„ë£Œ!
```

### **ë°°í¬ ëª…ë ¹ì–´**
```bash
cd mini-carrot-product-service

# ê°„ë‹¨ ë°°í¬
./deploy-nks.sh

# ë˜ëŠ” ìˆ˜ë™ ë°°í¬
./gradlew build
docker build -t product-service:latest .
kubectl apply -f k8s/product-service-nks-deployment.yaml -n tuk-trainee12
```

### **ì„œë¹„ìŠ¤ ì—­í• **
- **API**: `/api/products` (CRUD), `/api/products/{id}/buy`
- **êµ¬ë§¤ ì²˜ë¦¬**: ìƒí’ˆ ìƒíƒœ ë³€ê²½, êµ¬ë§¤ ë‚´ì—­ ì €ì¥
- **MySQL**: ìƒí’ˆ, êµ¬ë§¤ ì •ë³´ ì €ì¥/ì¡°íšŒ
- **JWT ê²€ì¦**: user-serviceì™€ í† í° í˜¸í™˜

---

## ğŸ¯ **3ë‹¨ê³„: frontend ë°°í¬**

### **ë””ë ‰í† ë¦¬ êµ¬ì¡°**
```
mini-carrot-frontend/
â”œâ”€â”€ src/...
â”œâ”€â”€ package.json
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ nginx.conf
â”œâ”€â”€ k8s/
â”‚   â””â”€â”€ frontend-nks-deployment.yaml
â””â”€â”€ deploy-nks.sh
```

### **ë°°í¬ ëª…ë ¹ì–´**
```bash
cd mini-carrot-frontend

# ê°„ë‹¨ ë°°í¬
./deploy-nks.sh

# ë˜ëŠ” ìˆ˜ë™ ë°°í¬
npm run build
docker build -t frontend:latest .
kubectl apply -f k8s/frontend-nks-deployment.yaml -n tuk-trainee12
```

### **ì„œë¹„ìŠ¤ ì—­í• **
- **ì›¹ UI**: React/Next.js ê¸°ë°˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- **API í”„ë¡ì‹œ**: `/api/users/*` â†’ user-service, `/api/products/*` â†’ product-service
- **ì •ì  íŒŒì¼**: Nginxë¡œ ë¹Œë“œëœ íŒŒì¼ ì„œë¹™

---

## ğŸ“¦ **ë°°í¬ ìˆœì„œ**

### **1ë‹¨ê³„: MySQL ì¤€ë¹„**
```bash
# MySQL ì„œë¹„ìŠ¤ê°€ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
kubectl get svc mysql-service -n tuk-trainee12
```

### **2ë‹¨ê³„: Backend ì„œë¹„ìŠ¤ ë°°í¬**
```bash
# user-service ë¨¼ì € ë°°í¬ (JWT ì œê³µ)
cd mini-carrot-user-service
./deploy-nks.sh

# product-service ë°°í¬ (JWT ì†Œë¹„)
cd mini-carrot-product-service
./deploy-nks.sh
```

### **3ë‹¨ê³„: Frontend ë°°í¬**
```bash
# ë§ˆì§€ë§‰ì— frontend ë°°í¬ (LoadBalancer)
cd mini-carrot-frontend
./deploy-nks.sh
```

### **4ë‹¨ê³„: ì™¸ë¶€ IP í™•ì¸**
```bash
kubectl get svc frontend-service -n tuk-trainee12
# EXTERNAL-IP: 223.130.154.117
```

---

## ğŸ§ª **ìµœì¢… ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸**

### **ë¸Œë¼ìš°ì € ì ‘ì†**
```
http://223.130.154.117
```

### **ì™„ì „í•œ ì‹œë‚˜ë¦¬ì˜¤**
1. **íšŒì›ê°€ì…**: ìƒˆ ê³„ì • ìƒì„±
2. **ë¡œê·¸ì¸**: JWT í† í° ë°›ê¸°
3. **ìƒí’ˆ ë“±ë¡**: ìƒí’ˆ ì •ë³´ ì…ë ¥
4. **ìƒí’ˆ ëª©ë¡**: ë“±ë¡ëœ ìƒí’ˆ í™•ì¸
5. **ìƒí’ˆ êµ¬ë§¤**: ë‹¤ë¥¸ ê³„ì •ìœ¼ë¡œ êµ¬ë§¤
6. **ë§ˆì´í˜ì´ì§€**: ê±°ë˜ ë‚´ì—­ í™•ì¸

---

## ğŸ‰ **ì„œë¹„ìŠ¤ ê°„ í†µì‹  íë¦„**

### **íšŒì›ê°€ì…/ë¡œê·¸ì¸**
```
ë¸Œë¼ìš°ì € â†’ Frontend(Nginx) â†’ user-service â†’ MySQL
                â†“
        JWT í† í° ë°˜í™˜ â†’ ë¸Œë¼ìš°ì €ì— ì €ì¥
```

### **ìƒí’ˆ ë“±ë¡**
```
ë¸Œë¼ìš°ì € â†’ Frontend(Nginx) â†’ product-service â†’ MySQL
   â†‘                              â†“
JWT í—¤ë” í¬í•¨              user-service (í† í° ê²€ì¦)
```

### **ìƒí’ˆ ì¡°íšŒ/êµ¬ë§¤**
```
ë¸Œë¼ìš°ì € â†’ Frontend(Nginx) â†’ product-service â†’ MySQL
                                â†“
                        ìƒí’ˆ ìƒíƒœ ì—…ë°ì´íŠ¸ (SOLD)
                        êµ¬ë§¤ ë‚´ì—­ ì €ì¥
```

---

## ğŸ“Š **í˜„ì¬ ìƒíƒœ**

| ì„œë¹„ìŠ¤ | ìƒíƒœ | ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ | ë§¤ë‹ˆí˜ìŠ¤íŠ¸ |
|--------|------|--------------|-----------|
| **user-service** | ğŸ”„ ì¤€ë¹„ í•„ìš” | âŒ | âŒ |
| **product-service** | âœ… **ì™„ë£Œ** | âœ… `deploy-nks.sh` | âœ… `k8s/product-service-nks-deployment.yaml` |
| **frontend** | ğŸ”„ ì¤€ë¹„ í•„ìš” | âŒ | âŒ |

---

## ğŸš€ **ë‹¤ìŒ í•  ì¼**

1. **user-service**: ë™ì¼í•œ íŒ¨í„´ìœ¼ë¡œ NKS ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
2. **frontend**: React í”„ë¡œì íŠ¸ì— Docker + NKS ì„¤ì • ì¶”ê°€
3. **ì „ì²´ í…ŒìŠ¤íŠ¸**: 3ê°œ ì„œë¹„ìŠ¤ ì—°ë™ í™•ì¸

**ğŸ¯ ì´ì œ product-serviceëŠ” ì™„ì „íˆ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤!**
**ë„¤ì´ë²„ í´ë¼ìš°ë“œ NKSì— ë°”ë¡œ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!** ğŸ‰ 